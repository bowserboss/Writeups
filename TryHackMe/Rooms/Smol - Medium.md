Started with a nmap scan
```
22 OpenSSH 8.2p1
80 Apache 2.4.41
```
There is also a domain the web server is doing a redirect to `http://smol.thm` and from the room description it says its a word press site with a vulnerable plugin and a backdoor plugin
Did a fuzz for subdomains did not find any running wpscan there is a plugin called `jsmol2wp` and there is a LFI we can use to read files on the host `CVE-2018-20463` 
`http://www.smol.thm/wp-content/plugins/jsmol2wp/php/jsmol.php?isform=true&call=getRawDataFormDatabase&query=php://filter/resource=../../../../../../../etc/passwd` and we can also read the `wp-config.php` file and get the database creds trying all the users we could enumerate and the only one that worked was `wpuser:kbLSF2Vop#.............*Z%G` after we login we can find the other plugin `Hello-dolly` and if we use the LFI to view the `../../hello.php` file there is a base64 eval in the page and when we decode it we get hexadecimal output and after we decode that we find the RCE `?cmd=id` we just need to find the path to the `hello.php` file I found the path but was giving me `500 error` so I looked back at the code and its only being exacted when we go to the admin panel so we go back to the user we could login as and just add `?cmd=id` after the `index.php` file and we got RCE and to get reverse shell we can make a sh file and download it to tmp folder and exacute it now we are `www-data` and we all ready have the database login and there is 6 users in the database and we can try cracking there hashes the only login that cracked was `diego:.............` and we can su into the user and get the user flag looking around the system I found the user `think` has a `id_rsa` file we can use to get a better shell from the user `think` we can su into the user `gege` and then we have access to a zip file called `wordpress.old.zip` this zip file is password protected so we can use `zip2john` to make it into a hash and crack the hash and then unzip the folder and looking at `wp-config.php` and the database creds are different `xavi:P@..................@` and we can now su into this user and running `sudo -l` and we can just become root without any password 