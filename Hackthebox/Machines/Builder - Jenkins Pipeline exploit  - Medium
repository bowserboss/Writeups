Started with a nmap scan
```
22 OpenSSH 8.9p1 Ubunutu
8080 Jetty 10.0.18 / Jenkins 2.441
```
On port `8080` there is a Jenkins server running and there is a CVE out `CVE-2024-23897` with this we can read files on the host we can see Jenkins is running in the `/var/jenkins_home` folder we need to look for `.xml` config files so we going to setup a docker of the same version 
	`sudo docker run -p 8080:8080 --restart-on-failure jenkins/jenkinds:lts-jdk17`
In this file path `/var/jenkins_home/users/users.xml` has a user name called `jennifer` using the `users.xml` file it will tell us the home directory for the users 
`/var/home/jenkins_home/users/jennifer_12108429903186576833/config.xml` and it stores a `jbcrypt` hash the hash cracked to `princess` and this login will log us into Jenkins and we navigate to were the global creds are stored and we see the `root` user has a private ssh key stored in Jenkins if we inspect it we can see the hidden key and using
	``println(hudson.util.Secret.decrypt("<long hash>"))` 
and now we got the ssh private key and we have to setup a pipeline with this script
```
node{
 sshagent (credentials: [1]) {
	 sh 'ssh -o StrictHostKeyChecking=no -l root 10.10.11.10 uname -a'}
}
```
and then to get the root flag just change `uname -a to cat /root/root.txt`
