Started with a nmap scan
```
22 OpenSSH 8.2p1
80 Apache 2.4.41
8080 Apache Tomcat 9
```
The website on port `8080` is a default tomcat page so going to the other site and its a hosting site looking around the site we get a domain the nmap did not find `megahosting.htb` the site is also pretty static but the news page which is vulnerable to LFI `http://megahosting.htb/news.php=../../../../etc/passwd` and we get the file there is one user `ash` after testing a lot of files and looking at the tomcat version which is `9` we found the `tomcat-users.xml` file `../../../../usr/share/tomcat9/etc/tomcat-users.xml` and we got creds `tomcat:$3cureP4s5w0rd123!` with these creds we can go to the webhost on port `8080` and log into the host manager app we can download a `jsp` shell so were can exacute commands and we can make it a `war` file `jar cvf web.war cmd.jsp` and then we can upload the shell `curl -u tomcat -T web.war 'http://10.10.10.194:8080/manager/text/deploy?path=/web&update=true'` now we can go to the shell `http://10.10.10.194:8080/web/cmd.jsp` and we can exacute commands but we still cant get a reverse shell so we need to make a `elf` file and we can use the `cmd.jsp` shell to upload it and exacute it now we got a call back as `tomcat` we need to stabilize the shell in the web root of apache there is a backup zip file we get this to a host machine and it password protected we can use `zip2john` and then crack it with john `admin@it` and its just a backup of the website with nothing useful but this is the password for the user `ash` and this user is apart of the `lxd` group and we can exploit this to get to root 